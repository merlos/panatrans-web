<div class="fill-overflow" id="map-container"> <div class="map" id="map"></div> </div> <toast></toast> <div class="right-btn-group"> <button class="btn btn-xs btn-danger" ng-show="pdfLayersShown > 0" ng-click="hideAllPdfLayers()" title="Ocultar PDFs"><i class="fa fa-eye-slash"></i> PDFs</button> <button class="btn btn-xs btn-primary" ng-click="openNewStopModal()" title="añadir una parada nueva">+ <i class="fa fa-bus"></i></button> <button class="btn btn-xs btn-default" ng-click="toggleFollowUser()" title="Seguir mi posición"><i class="fa fa-location-arrow"></i></button> </div> <!-- dropdown menu example --> <!--    <div class="btn-group" dropdown is-open="status.isopen" style="position: absolute; top: 60px; right: 20px">
      <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle ng-disabled="disabled">
        <i class="fa fa-bus"></i> Nueva <span class="caret"></span>
      </button>
      <ul class="dropdown-menu pull-right" role="menu" >
        <li><a href="" ng-click="openNewStopModal()">Parada</a></li>
        <li class="divider"></li>
        <li><a href="" ng-click="openNewRouteModal()"><i class="fa fa-road"></i> Ruta</a></li>
      </ul>
    </div>
--> <div ng-controller="MainCtrl"> <!-- Stop Detail Panel --> <div ng-show="showStopDetail" id="stop-detail"> <a href="" ng-click="closeStopDetail()" class="pull-right" style="padding:5px;color: grey"><i class="fa fa-close"></i></a> <div class="loading-stop-detail" ng-show="loadingStopDetail"> <h1 class="text-center"><i class="fa fa-bus fa-spin"></i></h1> <p class="text-center">Obteniendo información de rutas...</p> </div> <div class="stop-detail-container" ng-hide="loadingStopDetail"> <h3 title="{{stopDetail.name}}"><i class="fa fa-bus"></i> {{stopDetail.name | uppercase}}</h3> <p class="routes-title"> <i class="fa fa-road"></i> Rutas de esta parada <a href="" ng-click="openEditStopModal(stopDetail.id)" class="pull-right"> <i class="fa fa-pencil" title="Editar las rutas que pasan por esta parada"></i> Editar parada</a> </p> <ul class="route-list"> <li ng-show="!stopDetail.routes.length" style="padding-left: 5px"> <p>No sabemos qué rutas pasan por esta parada</p> <p>¡Ayúdanos!</p> <button class="btn btn-default btn-xs" ng-click="openEditStopModal(stopDetail.id)" title="Modificar las Rutas que pasan por esta parada"><i class="fa fa-pencil"></i> Editar parada </button></li> <li class="route-list-item" ng-repeat="route in stopDetail.routes track by route.id" ng-if="route.trips.length > 0" ng-mouseover="highlightRoute(route);hoverIn()" ng-mouseleave="lowlightRoute(route);hoverOut()"> <div class="pull-right" ng-show="hoverEdit"> <span class="dropdown" dropdown on-toggle="toggled(open)"> <a href class="dropdown-toggle" dropdown-toggle style="margin-right: 5px;margin-top: 5px"> <i class="fa fa-caret-square-o-down"></i> </a> <ul class="dropdown-menu-right dropdown-menu" style="left:auto"> <li> <a href="" ng-click="shareRoute(route)"><i class="fa fa-link"></i> Compartir enlace</a> </li> <li> <a href="{{route.url}}" target="_blank" ng-show="route.url !== null" title="ver página de mibus.com (abre nueva ventana)"><i class="fa fa-external-link"></i> Ver en mibus.com.pa</a> </li> <li role="presentation" class="divider"></li> <li> <a href="" ng-click="openEditRouteModal(route.id)" title="Editar las paradas de esta ruta"><i class="fa fa-pencil"></i> Editar ruta</a> </li> <li> <a href="" ng-click="togglePdfLayer(route)" title="mostrar PDF de la ruta sobre el mapa"><i class="fa fa-file-pdf-o"></i> Mostrar/ocultar PDF</a> </li> </ul> </span> </div> <div ng-click="toggleTripDetails()" class="clickable-container"> <h4>{{route.name}}</h4> </div> <div ng-show="showTripDetails"> <div ng-repeat="trip in route.trips" style="padding-left:10px"> <strong>dirección {{trip.headsign}}</strong> <ul class="trip-stops-list"> <li ng-repeat="stopSequence in trip.stopSequences" ng-if="stopSequence.sequence !== null" ng-click="highlightStop(stops[stopSequence.stopId])" ng-mouseover="this.hoverMouse=true" ng-mouseleave="this.hoverMouse=false"> <img ng-show="isFirstStopInTrip(stops[stopSequence.stopId], trip)" src="images/route-first.fe4114ee.svg"> <img ng-show="isLastStopInTrip(stops[stopSequence.stopId], trip)" src="images/route-last.430de16e.svg"> <img ng-show="!isLastStopInTrip(stops[stopSequence.stopId], trip) && !isFirstStopInTrip(stops[stopSequence.stopId],trip)" src="images/route.bb77ff6b.svg"><span ng-class="{label:(stopSequence.stopId == stopDetail.id), 'label-warning': (stopSequence.stopId == stopDetail.id)}">{{stops[stopSequence.stopId].name}}</span> <a href="" class="" ng-click="goToStop(stops[stopSequence.stopId])" ng-show="this.hoverMouse" title="Ver rutas de esta parada"><span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-road fa-stack-1x fa-inverse"></i> </span></a> </li> <!-- only stops with unknown location --> <li ng-repeat="stopSequence in trip.stopSequences" ng-mouseover="highlightStop(stops[stopSequence.stopId])" ng-mouseleave="lowlightStop(stops[stopSequence.stopId])" ng-if="stopSequence.sequence === null" title="Parada cuya posición en el trayecto es desconocida"> <i class="fa fa-exclamation-triangle"></i> {{stops[stopSequence.stopId].name}} </li> </ul> </div><!-- trip in trips  div --> <div> </div></div></li> <!-- route-list-item --> </ul> <br><br> <br><br> <br><br> <br><br> <br><br><!-- TODO remove this dirty fix --> </div> <!-- stop detail container --> </div> <!-- stop detail --> </div> <!-- main controller -->